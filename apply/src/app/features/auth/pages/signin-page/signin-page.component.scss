// Base variables from theme/variables.scss are available globally
// e.g., var(--ion-color-primary-blue), var(--ion-color-accent-yellow), etc.

:host {
  // The component itself might not need specific styles if ion-content and .signin-container handle everything.
}

ion-content {
  // Ensure it can go full screen, might need --background set if .signin-container doesn't cover all.
  // background: linear-gradient(135deg, var(--ion-color-neutral-light, #F9FAFB) 0%, var(--ion-color-neutral-background, #FFFFFF) 100%);
}

.signin-container {
  max-width: 1200px; // Max width for larger screens
  margin: 0 auto;    // Center on larger screens
  min-height: 100vh; // Full viewport height
  display: grid;
  grid-template-columns: 1fr 500px; // Default for larger screens
  align-items: stretch; // Make columns equal height
  background: var(--ion-color-neutral-background, #FFFFFF); // Fallback background
}

/* Left Side - Welcome Back */
.welcome-side {
  background: linear-gradient(135deg, var(--ion-color-primary-blue, #4F46E5) 0%, var(--ion-color-secondary, #7C3AED) 100%); // Assuming secondary is defined or use another var
  padding: 60px 40px; // Adjusted padding
  color: var(--ion-color-primary-blue-contrast, white);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;

  &::before { // Background pattern from prototype
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.1"><circle cx="30" cy="30" r="2"/></g></svg>') repeat;
    animation: float 20s linear infinite;
    z-index: 0;
  }
}

@keyframes float { // Copied from prototype
  0% { transform: translate(0, 0); }
  100% { transform: translate(-60px, -60px); }
}

.logo-container { // Container for app-logo if specific alignment is needed
  margin-bottom: 40px; // Adjusted
  position: relative;
  z-index: 1;
  // app-logo already has display:flex and align-items:center.
  // Its size="large" should match prototype's .logo-large styles.
}

.welcome-content {
  position: relative;
  z-index: 1;
}

.welcome-title {
  font-size: 40px; // Adjusted
  font-weight: 800;
  line-height: 1.15;
  margin-bottom: 20px; // Adjusted
}

.welcome-subtitle {
  font-size: 18px; // Adjusted
  opacity: 0.9;
  margin-bottom: 40px; // Adjusted
  line-height: 1.5;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr); // Simpler repeat
  gap: 20px; // Adjusted
  margin-bottom: 40px;
}

.stat-card {
  background: rgba(255,255,255,0.1);
  border-radius: 16px;
  padding: 20px; // Adjusted
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.2);
  transition: all 0.3s ease;

  &:hover {
    background: rgba(255,255,255,0.15);
    transform: translateY(-4px);
  }
}

.stat-value {
  font-size: 32px; // Adjusted
  font-weight: 800;
  color: var(--ion-color-accent-yellow, #FBBF24);
  margin-bottom: 8px;
}

.stat-label {
  font-size: 14px;
  opacity: 0.8;
}

.recent-activity {
  background: rgba(255,255,255,0.1);
  border-radius: 16px;
  padding: 20px; // Adjusted
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.2);
}

.activity-title {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  ion-icon { font-size: 20px; }
}

.activity-item {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  padding: 12px;
  background: rgba(255,255,255,0.05); // Slightly less emphasis than prototype
  border-radius: 8px;
}

.activity-icon {
  width: 32px;
  height: 32px;
  background: var(--ion-color-accent-yellow, #FBBF24);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--ion-color-text-dark, #1F2937);
  flex-shrink: 0;
  ion-icon { font-size: 18px; }
}

.activity-text {
  flex: 1;
  font-size: 14px;
}

.activity-time {
  font-size: 12px;
  opacity: 0.7;
}

/* Right Side - Login Form */
.login-side {
  padding: 40px 30px; // Adjusted padding
  background: var(--ion-color-neutral-background, white);
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow-y: auto; // Allow scrolling if content overflows on small heights
}

.login-header {
  text-align: center;
  margin-bottom: 32px; // Adjusted
}

.login-title {
  font-size: 28px; // Adjusted
  font-weight: 700;
  color: var(--ion-color-text-dark, #1F2937);
  margin-bottom: 12px;
}

.login-subtitle {
  color: var(--ion-color-text-dark-tint, #6B7280); // Use text-dark-tint
  font-size: 16px;
}

.ai-status {
  background: linear-gradient(135deg, var(--ion-color-primary-blue-tint, #F0F9FF), var(--ion-color-primary-blue-shade, #E0F2FE)); // Use theme vars
  border: 1px solid var(--ion-color-primary-blue, #0EA5E9); // Use primary blue
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 24px; // Adjusted
  display: flex;
  align-items: center;
  gap: 12px;
}

.ai-avatar {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, var(--ion-color-primary-blue, #4F46E5), var(--ion-color-secondary, #7C3AED));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--ion-color-primary-blue-contrast, white);
  animation: aiPulse 2s infinite; // Renamed from pulse to avoid conflict
  ion-icon { font-size: 24px; }
}

@keyframes aiPulse { // Renamed from pulse
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); opacity: 0.8; }
}

.ai-text { flex: 1; }
.ai-title {
  font-weight: 600;
  color: var(--ion-color-primary-blue-shade, #0C4A6E); // Use theme vars
  margin-bottom: 4px;
}
.ai-description {
  font-size: 14px;
  color: var(--ion-color-primary-blue, #0369A1); // Use theme vars
}

.form-container {
  max-width: 400px;
  margin: 0 auto;
  width: 100%;

  // Spacing for app-input components
  app-input {
    margin-bottom: 16px; // Default spacing, can be adjusted
    &:last-of-type { // Last app-input before forgot password
      margin-bottom: 8px;
    }
  }
}

.forgot-password {
  text-align: right;
  margin-bottom: 24px; // Adjusted
  a {
    color: var(--ion-color-primary-blue, #4F46E5);
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    &:hover { text-decoration: underline; }
  }
}

// app-button handles its own styling largely.
// Add margin for spacing if needed.
app-button[type="submit"] { // The main login button
  margin-bottom: 24px; // Space before divider
}

.loading-spinner { // Copied from prototype
  width: 20px;
  height: 20px;
  border: 2px solid transparent;
  border-top: 2px solid currentColor; // Uses button text color
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin { to { transform: rotate(360deg); } }

.divider {
  display: flex;
  align-items: center;
  margin: 24px 0; // Adjusted
  &::before, &::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--ion-color-neutral-shade, #E5E7EB); // Use theme var
  }
  span {
    margin: 0 16px;
    color: var(--ion-color-text-dark-tint, #6B7280);
    font-size: 14px;
  }
}

.signup-link-container { // Renamed from .signup-link to avoid styling <a> directly
  text-align: center;
  margin-top: 24px; // Adjusted
  padding-top: 24px;
  border-top: 1px solid var(--ion-color-neutral-shade, #E5E7EB);
  p {
    color: var(--ion-color-text-dark-tint, #6B7280);
    margin-bottom: 12px;
  }
  a { // This is now the clickable element
    color: var(--ion-color-primary-blue, #4F46E5);
    text-decoration: none;
    font-weight: 600;
    padding: 12px 24px;
    border-radius: 8px;
    border: 2px solid var(--ion-color-primary-blue, #4F46E5);
    display: inline-block;
    transition: all 0.3s ease;
    &:hover {
      background: var(--ion-color-primary-blue, #4F46E5);
      color: var(--ion-color-primary-blue-contrast, white);
      transform: translateY(-1px);
    }
  }
}

.message-box { // Common styling for success/error messages
  padding: 16px;
  border-radius: 12px;
  margin-bottom: 24px;
  display: flex;
  align-items: center;
  gap: 12px;
  ion-icon { font-size: 20px; margin-right: 4px; }
}

.success-message {
  background: var(--ion-color-success-green-tint, #F0FDF4); // Use theme vars
  border: 1px solid var(--ion-color-success-green, #BBF7D0);
  color: var(--ion-color-success-green-shade, #16A34A);
}

.error-message {
  background: var(--ion-color-danger-tint, #FEF2F2); // Use theme vars
  border: 1px solid var(--ion-color-danger, #FECACA);
  color: var(--ion-color-danger-shade, #DC2626);
}

/* Responsive */
@media (max-width: 968px) {
  .signin-container {
    grid-template-columns: 1fr; // Stack columns
    grid-template-rows: auto 1fr; // Welcome side auto, login side takes rest
  }

  .welcome-side {
    min-height: auto; // Adjust height for stacked layout
    padding: 40px 20px;
    // Potentially hide some elements on very small screens if too cluttered
    .stats-grid { display: none; } // Example: hide stats grid on mobile
    .recent-activity { display: none; } // Example: hide recent activity on mobile
  }

  .welcome-title { font-size: 32px; } // Adjusted
  .welcome-subtitle { font-size: 16px; margin-bottom: 24px; }

  .login-side {
    padding: 30px 20px; // Adjusted padding
    min-height: auto;
  }
  .login-title { font-size: 24px; } // Adjusted
  .ai-status { margin-bottom: 16px; } // Adjust spacing
}

// Animations (copied from prototype)
.fade-in { animation: fadeIn 0.8s ease; }
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

.slide-in-right { animation: slideInRight 0.8s ease; }
@keyframes slideInRight {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}
